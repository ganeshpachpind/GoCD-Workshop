<!-- Simple three sequential pipelines First pipleine just runs list task ,
     second pipeline execurtes python script which create new shell file and
     third pipeline again runs simple list command
     (this can be achived very optmized way but for showing example of material ,
      pipeline dependancy we are using this example)-->
<pipelines group="defaultGroup">
    <pipeline name="FirstPipeline">
      <materials>
        <git url="https://github.com/ganeshpachpind/goWorkshop.git" materialName="GOWorkshop" />
      </materials>
      <stage name="ListFiles">
        <jobs>
          <job name="List">
            <tasks>
              <exec command="ls" />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="ExecutePython">
      <materials>
        <pipeline pipelineName="FirstPipeline" stageName="ListFiles" />
      </materials>
      <stage name="Execute">
        <jobs>
          <job name="Run">
            <tasks>
              <exec command="/bin/bash">
                <arg>-c</arg>
                <arg>python create_file.python</arg>
              </exec>
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
    <pipeline name="List_AfterFiles">
      <materials>
        <pipeline pipelineName="ExecutePython" stageName="Execute" />
      </materials>
      <stage name="List_After">
        <jobs>
          <job name="List_after_details">
            <tasks>
              <exec command="ls" />
            </tasks>
          </job>
        </jobs>
      </stage>
    </pipeline>
  </pipelines>
